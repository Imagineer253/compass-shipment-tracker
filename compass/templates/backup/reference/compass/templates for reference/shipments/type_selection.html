{% extends "base.html" %}

{% block title %}Select Shipment Type{% endblock %}

{% block content %}
<style>
    /* Prevent text selection and cursor */
    .shipment-option {
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }
    
    .shipment-option * {
        cursor: pointer;
    }
</style>

<div class="container mx-auto px-4">
    <div class="flex flex-col items-center">
        <div class="arctic-card p-8 w-full max-w-4xl">
            <h1 class="text-3xl font-bold text-deep-arctic text-center mb-8">Select Shipment Type</h1>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="shipmentTypes">
                <!-- Export Option -->
                <div class="shipment-option cursor-pointer" data-type="export">
                    <div class="arctic-card p-6 h-full transition-all duration-300 
                                hover:bg-blue-50 hover:shadow-lg 
                                hover:transform hover:-translate-y-1">
                        <div class="flex flex-col items-center text-center">
                            <span class="text-4xl mb-4">ðŸ“¤</span>
                            <h3 class="text-xl font-bold text-deep-arctic mb-2">Export</h3>
                            <p class="text-gray-600">Outgoing shipments from India</p>
                        </div>
                    </div>
                </div>

                <!-- Import Option -->
                <div class="shipment-option cursor-pointer" data-type="import">
                    <div class="arctic-card p-6 h-full transition-all duration-300 
                                hover:bg-blue-50 hover:shadow-lg 
                                hover:transform hover:-translate-y-1">
                        <div class="flex flex-col items-center text-center">
                            <span class="text-4xl mb-4">ðŸ“¥</span>
                            <h3 class="text-xl font-bold text-deep-arctic mb-2">Import</h3>
                            <p class="text-gray-600">Incoming shipments to India</p>
                        </div>
                    </div>
                </div>

                <!-- Reimport Option -->
                <div class="shipment-option cursor-pointer" data-type="reimport">
                    <div class="arctic-card p-6 h-full transition-all duration-300 
                                hover:bg-blue-50 hover:shadow-lg 
                                hover:transform hover:-translate-y-1">
                        <div class="flex flex-col items-center text-center">
                            <span class="text-4xl mb-4">ðŸ”„</span>
                            <h3 class="text-xl font-bold text-deep-arctic mb-2">Reimport</h3>
                            <p class="text-gray-600">Returning shipments to India</p>
                        </div>
                    </div>
                </div>

                <!-- Cold Shipment Option -->
                <div class="shipment-option cursor-pointer" data-type="cold">
                    <div class="arctic-card p-6 h-full transition-all duration-300 
                                hover:bg-blue-50 hover:shadow-lg 
                                hover:transform hover:-translate-y-1">
                        <div class="flex flex-col items-center text-center">
                            <span class="text-4xl mb-4">ðŸ§Š</span>
                            <h3 class="text-xl font-bold text-deep-arctic mb-2">Cold Shipment</h3>
                            <p class="text-gray-600">Temperature-controlled Arctic cargo</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirmation Button (Hidden by default) -->
            <div id="confirmationSection" class="hidden mt-8 text-center">
                <p class="text-lg mb-4">You have selected: <span id="selectedType" class="font-bold text-deep-arctic"></span></p>
                <button id="confirmButton" class="arctic-button bg-green-600 hover:bg-green-700">
                    Confirm Selection â†’
                </button>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const shipmentOptions = document.querySelectorAll('.shipment-option');
    const confirmationSection = document.getElementById('confirmationSection');
    const selectedTypeText = document.getElementById('selectedType');
    const confirmButton = document.getElementById('confirmButton');
    let currentSelection = null;

    function clearSelections() {
        shipmentOptions.forEach(option => {
            const card = option.querySelector('.arctic-card');
            card.style.backgroundColor = '';
            card.style.borderColor = '';
        });
    }

    shipmentOptions.forEach(option => {
        option.addEventListener('click', function() {
            clearSelections();
            
            const card = this.querySelector('.arctic-card');
            card.style.backgroundColor = 'rgba(34, 197, 94, 0.1)';
            card.style.borderColor = '#22c55e';
            card.style.borderWidth = '2px';
            
            const shipmentType = this.dataset.type;
            currentSelection = shipmentType;
            selectedTypeText.textContent = shipmentType.charAt(0).toUpperCase() + shipmentType.slice(1) + ' Shipment';
            confirmationSection.classList.remove('hidden');
            
            confirmationSection.scrollIntoView({ behavior: 'smooth', block: 'end' });
        });
    });

    confirmButton.addEventListener('click', function() {
        if (currentSelection) {
            window.location.href = `/new-shipment?type=${currentSelection}`;
        }
    });
});
</script>
{% endblock %}